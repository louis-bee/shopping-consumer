"use strict";(self["webpackChunkshopping_consumer"]=self["webpackChunkshopping_consumer"]||[]).push([[332],{865:function(t,i,e){t.exports=e.p+"img/examplegoods.5faff419.webp"},883:function(t,i,e){t.exports=e.p+"img/louislogo.bc581c21.jpg"},4106:function(t){t.exports="data:image/jpeg;base64,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"},4602:function(t,i,e){e.d(i,{A:function(){return l}});var s=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"footer"},[i("div",{staticClass:"wechat"},[i("img",{attrs:{src:e(6058),alt:""}}),i("h4",[t._v("联系客服")])])])}],n={name:"Footer"},o=n,r=e(1656),h=(0,r.A)(o,s,a,!1,null,"29128a84",null),l=h.exports},6058:function(t,i,e){t.exports=e.p+"img/wechat.8db306df.jpg"},7501:function(t,i,e){e.d(i,{A:function(){return c}});e(4114);var s=function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"header",class:t.fixed&&"fix"},[i("div",{staticClass:"logo-box"},[t._m(0),i("div",{staticClass:"line"}),i("a",{attrs:{href:""},on:{click:function(i){return t.$router.push("/")}}},[i("img",{attrs:{src:e(883),alt:""}})])]),t.showNavBox?i("div",{staticClass:"tab-box"},t._l(t.tablist,(function(e){return i("li",{key:e.id,class:e.id===t.activeTab&&"active-li",on:{click:function(i){return t.tabChange(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0):t._e(),t.showLinkBox?i("div",{staticClass:"link-box"},[t.isLogin?i("li",{on:{click:t.logout}},[t._v("退出登录")]):i("li",{on:{click:function(i){return t.$router.push("/login")}}},[t._v("登录")]),i("li",{class:"order"===t.link&&"active-li",on:{click:t.toMyOrder}},[t._v("我的订单")]),i("li",{staticClass:"cart",class:"cart"===t.link&&"active-li",on:{click:t.showCart}},[i("span",{staticClass:"iconfont icon-24gl-bag"}),t._v(t._s(t.$store.getters.cartNum))])]):t._e()]),t.fixed&&!t.fix?i("div",{staticClass:"phantom"}):t._e()])},a=[function(){var t=this,i=t._self._c;return i("a",{attrs:{href:"https://space.bilibili.com/501779432",target:"_blank"}},[i("img",{attrs:{src:e(4106),alt:""}})])}],n=e(4787),o={name:"Header",props:{tab:{type:Number},link:{type:String,default:null},showNavBox:{type:Boolean,default:!0},showLinkBox:{type:Boolean,default:!0},fix:{type:Boolean,default:!1}},data(){return{activeTab:null,tablist:[{id:0,name:"全部"},{id:1,name:"唱片"},{id:2,name:"衣饰"},{id:3,name:"日用品"},{id:4,name:"其它"},{id:5,name:"特价"}],isLogin:!1,fixed:!1,cartNum:0}},created(){this.fixed=this.fix,this.activeTab=this.tab,this.isLogin=!!localStorage.getItem("refreshToken")},mounted(){!1===this.fix&&window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){!1===this.fix&&window.removeEventListener("scroll",this.handleScroll)},methods:{tabChange(t){this.activeTab=t,this.$emit("tab-change",t)},logout(){(0,n.A)(),this.isLogin=!1,"/"!==this.$route.path?this.$router.push("/"):location.reload()},toMyOrder(){"/myOrder"!==this.$route.path&&this.$router.push("/myOrder")},showCart(){"/cart"!==this.$route.path&&this.$router.push("/cart")},handleScroll(){const t=window.scrollY;this.fixed=t>=190}}},r=o,h=e(1656),l=(0,h.A)(r,s,a,!1,null,"2453b09b",null),c=l.exports},8643:function(t,i,e){e.r(i),e.d(i,{default:function(){return I}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"layout"},[i("Header",{attrs:{tab:parseInt(t.$route.query.typeId)},on:{"tab-change":t.handleTabChange}}),i("div",{staticClass:"main"},[i("div",{staticClass:"image"},[t.detail.imageList.length>1&&t.detail.imageList[0]?i("Carousel",{attrs:{imageList:t.detail.imageList,showBut:!1,width:480,height:480}}):i("img",{attrs:{src:t.detail.imageList[0],alt:""}})],1),i("div",{staticClass:"message"},[i("h1",[t._v(t._s(t.detail.goodsName))]),i("div",{staticClass:"price"},[t._v("￥"+t._s(t.detail.price))]),i("div",{staticClass:"num"},[i("div",{staticClass:"label"},[t._v("数量")]),i("Counter",{on:{"count-change":t.handleCountChange}})],1),i("div",{staticClass:"button",on:{click:t.handleAddtoCart}},[t._v("添加到购物车")]),i("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.detail.desc)}})])]),i("Footer")],1)},a=[],n=(e(4114),e(8111),e(1701),e(7501)),o=e(4602),r=function(){var t=this,i=t._self._c;return i("div",{staticClass:"container",style:{width:t.pxTovwWidth+"px",height:t.pxTovwHeight+"px"}},[i("div",{ref:"list",staticClass:"list"},[i("li",{staticClass:"first"},[i("img",{style:{width:t.pxTovwWidth+"px",height:t.pxTovwHeight+"px"},attrs:{src:t.imageList[t.imageList.length-1],alt:""}})]),t._l(t.imageList,(function(s,a){return i("li",{key:a},[i("img",{style:{width:t.pxTovwWidth+"px"},attrs:{src:s||e(865),alt:""}})])})),i("li",{staticClass:"last"},[i("img",{style:{width:t.pxTovwWidth+"px"},attrs:{src:t.imageList[0],alt:""}})])],2),t.showBut?i("div",{staticClass:"left",on:{click:t.handleLeftClick}}):t._e(),t.showBut?i("div",{staticClass:"right",on:{click:t.handleRightClick}}):t._e(),i("div",{staticClass:"indicater"},t._l(t.imageList.length,(function(e,s){return i("li",{key:s},[i("span",{class:t.count===s&&"active",on:{click:function(i){return t.handleClick(s)}}})])})),0)])},h=[],l={name:"Carousel",props:{width:{type:Number,default:480},height:{type:Number,default:480},imageList:{type:Array,default:()=>["@/assets/img/examplegoods.webp","@/assets/img/examplegoods.webp","@/assets/img/examplegoods.webp"]},showBut:{type:Boolean,default:!0}},data(){return{count:0,timer:null,clientWidth:1536}},computed:{pxTovwHeight(){return this.pxTovw(this.height)},pxTovwWidth(){return this.pxTovw(this.width)}},mounted(){this.auto(),this.clientWidth=document.documentElement.clientWidth,window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize),clearInterval(this.timer)},methods:{handleResize(){this.clientWidth=document.documentElement.clientWidth},pxTovw(t){return t/1536*this.clientWidth},moveTo(t){this.count=t;const i=this.pxTovw(t*this.width);this.$refs.list.style.transform=`translateX(-${i}px)`,this.$refs.list.style.transition="0.5s"},handleClick(t){this.moveTo(t),clearInterval(this.timer),this.auto()},toLeft(){if(0===this.count){const t=this.pxTovw(this.imageList.length*this.width);this.$refs.list.style.transform=`translateX(-${t}px)`,this.$refs.list.style.transition="none",console.log(this.$refs.list.clientHeight),this.moveTo(this.imageList.length-1)}else this.moveTo(this.count-1)},toRight(){this.count===this.imageList.length-1?(this.$refs.list.style.transform="translateX(100%)",this.$refs.list.style.transition="none",console.log(this.$refs.list.clientHeight),this.moveTo(0)):this.moveTo(this.count+1)},handleLeftClick(){this.toLeft(),clearInterval(this.timer),this.auto()},handleRightClick(){this.toRight(),clearInterval(this.timer),this.auto()},auto(){this.timer=setInterval((()=>{this.toRight()}),2e3)}}},c=l,d=e(1656),u=(0,d.A)(c,r,h,!1,null,"b398dd5e",null),g=u.exports,v=function(){var t=this,i=t._self._c;return i("div",{staticClass:"counter"},[i("div",{staticClass:"left but",on:{click:t.handleLeft}},[t._v("-")]),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],attrs:{type:"text"},domProps:{value:t.count},on:{change:t.handleChange,input:function(i){i.target.composing||(t.count=i.target.value)}}})]),i("div",{staticClass:"right but",on:{click:t.handleRight}},[t._v("+")])])},m=[],p={name:"Counter",data(){return{count:1}},methods:{handleLeft(){this.count>1&&this.count--,this.change()},handleRight(){this.count<99&&this.count++,this.change()},handleChange(t){const i=t.target.value;isNaN(i)||i<1||i>99?this.count=1:this.count=i,this.change()},change(){this.$emit("count-change",this.count)}}},f=p,w=(0,d.A)(f,v,m,!1,null,"71115040",null),x=w.exports,C={name:"GoodsDetail",components:{Header:n.A,Footer:o.A,Carousel:g,Counter:x},data(){return{goodsId:null,detail:{imageList:[]},count:1}},created(){this.goodsId=parseInt(this.$route.params.id),this.getGoodsDetail()},methods:{handleTabChange(t){this.$router.push({path:"/",query:{typeId:t}})},getGoodsDetail(){this.$apis.goods.getGoodsById({id:this.goodsId,view:!0}).then((t=>{200===t.status?(this.detail={...t.data,imageList:t.data.images.map((t=>"http://8.134.124.55:80/post/uploads/"+t))},console.log(this.detail)):alert(t.desc)}))},handleCountChange(t){this.count=t},handleAddtoCart(){if(!localStorage.getItem("token"))return alert("请先登录"),this.$router.push("/login");const t={userId:JSON.parse(localStorage.getItem("userInfo")).id,goodsId:this.goodsId,number:this.count};this.$apis.cart.addToCart(t).then((t=>{200===t.status?(t.data.cartNumAdd&&this.$store.commit("setCartNum",this.$store.state.cartNum+1),this.$router.push("/cart")):console.log(t.desc)}))}}},A=C,b=(0,d.A)(A,s,a,!1,null,"381f1fd0",null),I=b.exports}}]);
//# sourceMappingURL=detail.a96de45e.js.map