{"version":3,"file":"js/cart.43110a3b.js","mappings":"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","sources":["webpack://shopping-consumer/./src/components/Footer.vue","webpack://shopping-consumer/src/components/Footer.vue","webpack://shopping-consumer/./src/components/Footer.vue?593f","webpack://shopping-consumer/./src/components/Footer.vue?9895","webpack://shopping-consumer/./src/components/Header.vue","webpack://shopping-consumer/src/components/Header.vue","webpack://shopping-consumer/./src/components/Header.vue?6efa","webpack://shopping-consumer/./src/components/Header.vue?03e2","webpack://shopping-consumer/./src/views/cart/Cart.vue","webpack://shopping-consumer/./src/components/CounterMini.vue","webpack://shopping-consumer/src/components/CounterMini.vue","webpack://shopping-consumer/./src/components/CounterMini.vue?f741","webpack://shopping-consumer/./src/components/CounterMini.vue?a3e5","webpack://shopping-consumer/src/views/cart/Cart.vue","webpack://shopping-consumer/./src/views/cart/Cart.vue?63b8","webpack://shopping-consumer/./src/views/cart/Cart.vue?2f7a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"wechat\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/wechat.jpg\"),\"alt\":\"\"}}),_c('h4',[_vm._v(\"联系客服\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"footer\">\r\n    <div class=\"wechat\">\r\n        <img src=\"@/assets/img/wechat.jpg\" alt=\"\">\r\n        <h4>联系客服</h4>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Footer'\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.footer {\r\n  width: 100%;\r\n  height: 400px;\r\n  overflow: hidden;\r\n  .wechat {\r\n    margin-left: 1100px;\r\n    margin-top: 155px;\r\n    width: 150px;\r\n    img{\r\n      width: 150px;\r\n      height: 150px;\r\n    }\r\n    h4 {\r\n      margin-top: 10px;\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=29128a84&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\nimport style0 from \"./Footer.vue?vue&type=style&index=0&id=29128a84&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29128a84\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"header\",class:_vm.fixed&&'fix'},[_c('div',{staticClass:\"logo-box\"},[_vm._m(0),_c('div',{staticClass:\"line\"}),_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/louislogo.jpg\"),\"alt\":\"\"}})])]),(_vm.showNavBox)?_c('div',{staticClass:\"tab-box\"},_vm._l((_vm.tablist),function(item){return _c('li',{key:item.id,class:item.id===_vm.activeTab&&'active-li',on:{\"click\":function($event){return _vm.tabChange(item.id)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e(),(_vm.showLinkBox)?_c('div',{staticClass:\"link-box\"},[(!_vm.isLogin)?_c('li',{on:{\"click\":function($event){return _vm.$router.push('/login')}}},[_vm._v(\"登录\")]):_c('li',{on:{\"click\":_vm.logout}},[_vm._v(\"退出登录\")]),_c('li',{class:_vm.link==='order'&&'active-li',on:{\"click\":_vm.toMyOrder}},[_vm._v(\"我的订单\")]),_c('li',{staticClass:\"cart\",class:_vm.link==='cart'&&'active-li',on:{\"click\":_vm.showCart}},[_c('span',{staticClass:\"iconfont icon-24gl-bag\"}),_vm._v(_vm._s(_vm.$store.getters.cartNum))])]):_vm._e()]),(_vm.fixed&&!_vm.fix)?_c('div',{staticClass:\"phantom\"}):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://space.bilibili.com/501779432\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/brotherlouis.jpg\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"header\" :class=\"fixed&&'fix'\">\r\n      <div class=\"logo-box\">\r\n        <a href=\"https://space.bilibili.com/501779432\" target=\"_blank\"><img src=\"@/assets/img/brotherlouis.jpg\" alt=\"\"></a>\r\n        <div class=\"line\"></div>\r\n        <a @click=\"$router.push('/')\" href=\"\"><img src=\"@/assets/img/louislogo.jpg\" alt=\"\"></a>\r\n      </div>\r\n      <div v-if=\"showNavBox\" class=\"tab-box\">\r\n        <li v-for=\"item in tablist\" :key=\"item.id\" @click=\"tabChange(item.id)\" :class=\"item.id===activeTab&&'active-li'\">\r\n          {{ item.name }}\r\n        </li>\r\n      </div>\r\n      <div v-if=\"showLinkBox\" class=\"link-box\">\r\n        <li v-if=\"!isLogin\" @click=\"$router.push('/login')\">登录</li>\r\n        <li v-else @click=\"logout\">退出登录</li>\r\n        <li @click=\"toMyOrder\" :class=\"link==='order'&&'active-li'\">我的订单</li>\r\n        <li @click=\"showCart\" class=\"cart\" :class=\"link==='cart'&&'active-li'\"><span class=\"iconfont icon-24gl-bag\"></span>{{$store.getters.cartNum}}</li>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"fixed&&!fix\" class=\"phantom\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clearStorage from '@/utils/clearStorage'\r\nexport default {\r\n  name: 'Header',\r\n  props: {\r\n    tab: {\r\n      type: Number\r\n    },\r\n    link: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    showNavBox: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showLinkBox: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    fix: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      activeTab: null,\r\n      tablist: [\r\n        { id: 0, name: '全部' },\r\n        { id: 1, name: '唱片' },\r\n        { id: 2, name: '衣饰' },\r\n        { id: 3, name: '日用品' },\r\n        { id: 4, name: '其它' },\r\n        { id: 5, name: '特价' }\r\n      ],\r\n      isLogin: false,\r\n      fixed: false,\r\n      cartNum: 0\r\n    }\r\n  },\r\n  created () {\r\n    this.fixed = this.fix\r\n    this.activeTab = this.tab\r\n    this.isLogin = !!localStorage.getItem('refreshToken')\r\n    // this.cartNum = this.$store.state.cartNum\r\n    // this.isLogin && this.$apis.cart.getCartNum({ userId: JSON.parse(localStorage.getItem('userInfo')).id }).then(res => { this.cart = res.data.cartNum })\r\n  },\r\n  mounted () {\r\n    if (this.fix === false) window.addEventListener('scroll', this.handleScroll)\r\n  },\r\n  beforeDestroy () {\r\n    if (this.fix === false) window.removeEventListener('scroll', this.handleScroll)\r\n  },\r\n  methods: {\r\n    tabChange (typeId) {\r\n      this.activeTab = typeId\r\n      // this.$router.push({ path: '/', query: { typeId: typeId } })\r\n      this.$emit('tab-change', typeId)\r\n    },\r\n    logout () {\r\n      clearStorage()\r\n      this.isLogin = false\r\n      if (this.$route.path !== '/') {\r\n        this.$router.push('/')\r\n      } else {\r\n        location.reload()\r\n      }\r\n      // this.$router.replace('/')\r\n    },\r\n    toMyOrder () {\r\n      if (this.$route.path !== '/myOrder') {\r\n        this.$router.push('/myOrder')\r\n      }\r\n    },\r\n    showCart () {\r\n      if (this.$route.path !== '/cart') {\r\n        this.$router.push('/cart')\r\n      }\r\n    },\r\n    handleScroll () {\r\n      const scrollTop = window.scrollY\r\n      if (scrollTop >= 190) {\r\n        this.fixed = true\r\n      } else {\r\n        this.fixed = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.header {\r\n  z-index: 99;\r\n  position: relative;\r\n  padding-top: 30px;\r\n  width: 100%;\r\n  height: 190px;\r\n  background-color: rgb(210,210,207);;\r\n  .logo-box {\r\n    display: flex;\r\n    justify-content: center;\r\n    .line {\r\n      width: 2px;\r\n      background-color: rgb(96, 115, 126);\r\n    }\r\n    img {\r\n      width: 200px;\r\n      height: 100px;\r\n      object-fit: contain;\r\n    }\r\n  }\r\n  .tab-box {\r\n    padding-top: 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 50px;\r\n    li {\r\n      cursor: pointer;\r\n      padding-bottom: 5px;\r\n      &:hover {\r\n        border-bottom: 1px solid ;\r\n      }\r\n    }\r\n    .active-li {\r\n      border-bottom: 1px solid ;\r\n    }\r\n  }\r\n  .link-box {\r\n    position: absolute;\r\n    top: 110px;\r\n    right: 100px;\r\n    display: flex;\r\n    gap: 15px;\r\n    li {\r\n      cursor: pointer;\r\n      padding-bottom: 5px;\r\n      &:hover {\r\n        border-bottom: 1px solid;\r\n      }\r\n    }\r\n    .active-li {\r\n      border-bottom: 1px solid ;\r\n    }\r\n    .cart {\r\n      .iconfont {\r\n        margin-right: 3px;\r\n        font-size: 20px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.fix {\r\n  position: fixed;\r\n  top: 0;\r\n}\r\n.phantom {\r\n  height: 190px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=2453b09b&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=2453b09b&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2453b09b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('Header',{attrs:{\"fix\":true,\"link\":'cart'},on:{\"tab-change\":_vm.handleTabChange}}),_c('div',{staticClass:\"main\"},[(_vm.list.length===0)?_c('div',{staticClass:\"empty\"},[_c('h2',[_vm._v(\"购物车空空如也~\")]),_c('span',{on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\"去购物>\")])]):_c('div',{staticClass:\"cart\"},[_vm._m(0),_c('div',{staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('li',{key:item.id},[_c('img',{attrs:{\"src\":item.image || require('@/assets/img/examplegoods.webp'),\"alt\":\"\"}}),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.goodsName || '示例商品名称'))]),_c('div',{staticClass:\"del\",on:{\"click\":function($event){return _vm.handleDelete(item.id)}}},[_vm._v(\"删除\")])]),_c('div',{staticClass:\"count-box\"},[_c('CounterMini',{attrs:{\"num\":item.number || 1},on:{\"count-change\":function($event){return _vm.handleCountChange($event, item.id, index)}}})],1),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.price || '999.99'))])])}),0),_c('div',{staticClass:\"checkout\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"head\"},[_c('span',[_vm._v(\"合计\")]),_c('span',[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))])]),_c('div',{staticClass:\"but\",on:{\"click\":_vm.toPay}},[_vm._v(\"结 算\")])])])])]),_c('Footer')],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(\"购物车\")]),_c('p',{staticClass:\"flex-1\"},[_vm._v(\"数量\")]),_c('p',[_vm._v(\"价格\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"counter\"},[_c('div',{staticClass:\"left but\",on:{\"click\":_vm.handleLeft}},[_vm._v(\"-\")]),_c('div',{staticClass:\"inp\"},[_c('input',{attrs:{\"disabled\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.num}})]),_c('div',{staticClass:\"right but\",on:{\"click\":_vm.handleRight}},[_vm._v(\"+\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"counter\">\r\n    <div class=\"left but\" @click=\"handleLeft\">-</div>\r\n    <div class=\"inp\"><input :value=\"num\" disabled type=\"text\"></div>\r\n    <div class=\"right but\" @click=\"handleRight\">+</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CounterMini',\r\n  props: {\r\n    num: {\r\n      type: Number\r\n    }\r\n  },\r\n  methods: {\r\n    handleLeft () {\r\n      if (this.num > 1) {\r\n        this.$emit('count-change', this.num - 1)\r\n      }\r\n    },\r\n    handleRight () {\r\n      if (this.num < 99) {\r\n        this.$emit('count-change', this.num + 1)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.counter {\r\n  display: flex;\r\n  height: 35px;\r\n  width: 105px;\r\n  .but {\r\n    cursor: pointer;\r\n    margin-top: -2px;\r\n    height: 100%;\r\n    width: 35px;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    line-height: 35px;\r\n    user-select: none;\r\n  }\r\n  input {\r\n    display: block;\r\n    height: 100%;\r\n    width: 35px;\r\n    background-color: inherit;\r\n    // background-color: #fff;\r\n    text-align: center;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CounterMini.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CounterMini.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CounterMini.vue?vue&type=template&id=1379ee4f&scoped=true\"\nimport script from \"./CounterMini.vue?vue&type=script&lang=js\"\nexport * from \"./CounterMini.vue?vue&type=script&lang=js\"\nimport style0 from \"./CounterMini.vue?vue&type=style&index=0&id=1379ee4f&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1379ee4f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login\">\r\n    <Header :fix=true @tab-change=\"handleTabChange\" :link=\"'cart'\"></Header>\r\n    <div class=\"main\">\r\n      <div v-if=\"list.length===0\" class=\"empty\">\r\n        <h2>购物车空空如也~</h2>\r\n        <span @click=\"$router.push('/')\">去购物></span>\r\n      </div>\r\n      <div v-else class=\"cart\">\r\n        <div class=\"title\">\r\n          <h2>购物车</h2>\r\n          <p class=\"flex-1\">数量</p>\r\n          <p>价格</p>\r\n        </div>\r\n        <div class=\"list\">\r\n          <li v-for=\"item,index in list\" :key=\"item.id\">\r\n            <img :src=\"item.image || require('@/assets/img/examplegoods.webp')\" alt=\"\">\r\n            <div class=\"detail\">\r\n              <div class=\"name\">{{ item.goodsName || '示例商品名称' }}</div>\r\n              <div class=\"del\" @click=\"handleDelete(item.id)\">删除</div>\r\n            </div>\r\n            <div class=\"count-box\">\r\n              <CounterMini :num=\"item.number || 1\" @count-change=\"handleCountChange($event, item.id, index)\"></CounterMini>\r\n            </div>\r\n            <div class=\"price\">￥{{ item.price || '999.99' }}</div>\r\n          </li>\r\n        </div>\r\n        <div class=\"checkout\">\r\n          <div class=\"box\">\r\n            <div class=\"head\">\r\n              <span>合计</span>\r\n              <span>￥{{ totalPrice }}</span>\r\n            </div>\r\n            <div class=\"but\" @click=\"toPay\">结 算</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nimport CounterMini from '@/components/CounterMini.vue'\r\nexport default {\r\n  name: 'Cart',\r\n  components: {\r\n    Header,\r\n    Footer,\r\n    CounterMini\r\n  },\r\n  data () {\r\n    return {\r\n      list: []\r\n    }\r\n  },\r\n  computed: {\r\n    totalPrice () {\r\n      const res = this.list.reduce((sum, item) => {\r\n        return sum + (item.price * item.number)\r\n      }, 0)\r\n      return res.toFixed(2)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCartList()\r\n  },\r\n  methods: {\r\n    handleTabChange (typeId) {\r\n      this.$router.push({ path: '/', query: { typeId: typeId } })\r\n    },\r\n    async getCartList () {\r\n      this.$apis.cart.getCartList({ userId: JSON.parse(localStorage.getItem('userInfo')).id }).then(res => {\r\n        if (res.status === 200) {\r\n          this.list = res.data.list.map(item => {\r\n            return {\r\n              ...item,\r\n              image: `${process.env.VUE_APP_API_URL}/uploads/` + item.images[0]\r\n            }\r\n          })\r\n          console.log(res.desc)\r\n        }\r\n      })\r\n    },\r\n    handleCountChange (count, id, index) {\r\n      if (count === this.list[index].number) return\r\n      const params = {\r\n        orderId: id,\r\n        number: count,\r\n        userId: JSON.parse(localStorage.getItem('userInfo')).id\r\n      }\r\n      this.$apis.cart.updateCart(params).then(res => {\r\n        if (res.status === 200) {\r\n          this.list[index].number = count\r\n        }\r\n      })\r\n    },\r\n    handleDelete (id) {\r\n      // 待优化：弹窗确认\r\n      const params = {\r\n        orderId: id,\r\n        userId: JSON.parse(localStorage.getItem('userInfo')).id\r\n      }\r\n      this.$apis.cart.deleteCart(params).then(res => {\r\n        if (res.status === 200) {\r\n          this.list = this.list.filter(item => item.id !== id)\r\n          this.$store.commit('setCartNum', this.list.length)\r\n        } else {\r\n          console.log(res.desc)\r\n        }\r\n      })\r\n    },\r\n    async toPay () {\r\n      await this.getCartList()\r\n      if (this.list.length !== 0) {\r\n        this.$router.push('/pay')\r\n      } else {\r\n        alert('购物车的商品下架了')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.flex-1 {\r\n  flex:1\r\n}\r\n.main {\r\n  margin-top: 190px;\r\n  min-height: 350px;\r\n  background-color: rgb(216, 216, 212);\r\n  .empty {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding-top: 40px;\r\n    h2 {\r\n      display: block;\r\n    }\r\n    span {\r\n      cursor: pointer;\r\n      display: block;\r\n      margin-top: 10px;\r\n      font-size: 14px;\r\n      &:hover {\r\n        opacity: 0.2;\r\n      }\r\n    }\r\n  }\r\n  .cart {\r\n    margin: 0 auto;\r\n    padding-top: 20px;\r\n    width: 950px;\r\n    .title {\r\n      padding-top: 6px;\r\n      height: 65px;\r\n      display: flex;\r\n      border-bottom: 2px solid black;\r\n      h2 {\r\n        width: 600px;\r\n        color: black;\r\n      }\r\n    }\r\n    .list {\r\n      padding-bottom: 30px;\r\n      border-bottom: 1px solid black;\r\n      li {\r\n        display: flex;\r\n        margin-top: 20px;\r\n        height: 100px;\r\n        img {\r\n          width: 100px;\r\n          height: 100px;\r\n        }\r\n        .detail {\r\n          padding-left: 40px;\r\n          width: 500px;\r\n          height: 100%;\r\n          .name {\r\n            padding-top: 5px;\r\n            padding-right: 5px;\r\n            font-size: 20px;\r\n            font-weight: 500;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            text-wrap: none;\r\n            white-space: nowrap;\r\n          }\r\n          .del {\r\n            display: inline-block;\r\n            cursor: pointer;\r\n            margin-top: 45px;\r\n            font-size: 13px;\r\n            &:hover {\r\n              opacity: 0.2;\r\n            }\r\n          }\r\n        }\r\n        .count-box {\r\n          flex:1;\r\n          padding-top: 5px;\r\n        }\r\n        .price {\r\n          padding-top: 7px;\r\n          font-size: 16px;\r\n          color: black;\r\n        }\r\n      }\r\n    }\r\n    .checkout {\r\n      padding-bottom: 40px;\r\n      display: flex;\r\n      justify-content: right;\r\n      width: 100%;\r\n      .box {\r\n        margin-top: 40px;\r\n        width: 300px;\r\n        .head {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          span {\r\n            font-size: 16px;\r\n            color: black;\r\n          }\r\n        }\r\n        .but {\r\n          margin-top: 20px;\r\n          height: 47px;\r\n          text-align: center;\r\n          line-height: 47px;\r\n          background-color: black;\r\n          font-size: 16px;\r\n          color: rgb(237, 237, 237);\r\n          // color: white;\r\n          &:hover {\r\n            background-color: rgb(235, 79, 71);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=09273d78&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=09273d78&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09273d78\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_self","_c","_m","staticRenderFns","staticClass","attrs","require","_v","name","component","class","fixed","on","$event","$router","push","showNavBox","_l","tablist","item","key","id","activeTab","tabChange","_s","_e","showLinkBox","isLogin","logout","link","toMyOrder","showCart","$store","getters","cartNum","fix","props","tab","type","Number","String","default","Boolean","data","created","localStorage","getItem","mounted","window","addEventListener","handleScroll","beforeDestroy","removeEventListener","methods","typeId","$emit","clearStorage","$route","path","location","reload","scrollTop","scrollY","handleTabChange","list","length","index","image","goodsName","handleDelete","number","handleCountChange","price","totalPrice","toPay","handleLeft","domProps","num","handleRight","components","Header","Footer","CounterMini","computed","res","reduce","sum","toFixed","getCartList","query","$apis","cart","userId","JSON","parse","then","status","map","images","console","log","desc","count","params","orderId","updateCart","deleteCart","filter","commit","alert"],"sourceRoot":""}